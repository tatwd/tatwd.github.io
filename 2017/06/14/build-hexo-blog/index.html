<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta http-equiv="X-UA-Compatible" content="ie=edge"><!-- <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"> --><meta name="generator" content="Hexo 5.3.0"><meta name="description" content="本文是我建立这个博客的一些笔记。目的有三：一防忘记，二供参考，三作开篇。   准备工作首先，先安装建立 Hexo 博客站点的依赖环境，即安装 Node.js、Git 以及在 GitHub 上建立站点仓库。"><meta property="og:type" content="article"><meta property="og:title" content="利用 Hexo 框架在 GitHub 上搭建静态个人博客网站"><meta property="og:url" content="https://jin.cloong.me/2017/06/14/build-hexo-blog/index.html"><meta property="og:site_name" content="_King&#39;s Notes"><meta property="og:description" content="本文是我建立这个博客的一些笔记。目的有三：一防忘记，二供参考，三作开篇。   准备工作首先，先安装建立 Hexo 博客站点的依赖环境，即安装 Node.js、Git 以及在 GitHub 上建立站点仓库。"><meta property="og:locale"><meta property="og:image" content="https://jin.cloong.me/2017/06/14/build-hexo-blog/build-hexo-blog.jpg"><meta property="og:image" content="https://jin.cloong.me/2017/06/14/build-hexo-blog/new-site-repository.png"><meta property="og:image" content="https://jin.cloong.me/2017/06/14/build-hexo-blog/set-default-branch.png"><meta property="article:published_time" content="2017-06-14T11:18:31.000Z"><meta property="article:modified_time" content="2021-03-03T13:32:47.100Z"><meta property="article:author" content="_king"><meta property="article:tag" content="Hexo"><meta property="article:tag" content="Blog"><meta property="article:tag" content="GitHub"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://jin.cloong.me/2017/06/14/build-hexo-blog/build-hexo-blog.jpg"><link rel="icon" href=""><title>_King&#39;s Notes</title><!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--><!-- <link href="https://fonts.googleapis.com/css?family=Montserrat|Open+Sans|Roboto+Mono" rel="stylesheet"> --><!-- <link href="https://fonts.lug.ustc.edu.cn/css?family=Montserrat|Open+Sans|Roboto+Mono" rel="stylesheet"> --><link rel="stylesheet" href="/fonts/index.css"><link rel="stylesheet" href="/css/common.css"><style>.avatar::before{display:block;content:'';background:url(/img/avatar.jpg) no-repeat center;background-size:cover;border-radius:50%;border:1px solid #e6e6e6;height:62px;width:62px;margin:0 auto;margin-top:32px}</style><link rel="stylesheet" href="/css/post.css"><link rel="stylesheet" href="/css/prism.css"><link rel="stylesheet" href="/css/comment.css"><script>!function(){document.addEventListener("DOMContentLoaded",function(e){var o=window.decodeURI(location.hash.replace("#",""));if(""!==o){var t=document.getElementById(o);if(console.log(t),t){var n=t.offsetTop;setTimeout(function(){window.scrollTo(0,n-0)},0)}}});var e=(new Date).getHours();(e<6||18<=e)&&document.querySelector("html").setAttribute("theme","dark"),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){console.log(e)})}()</script><link rel="alternate" href="/atom.xml" title="_King's Notes" type="application/atom+xml"></head><body><div class="container"><div id="post"><div id="index__header"><div class="avatar text-center"></div><h2 class="h2 text-center text-upper"><a class="color--black" href="/">_King&#39;s Notes</a></h2><div class="text-center"><!-- github icon --> <a class="goto" href="https://github.com/tatwd" target="_blank"><svg class="icon" width="16" height="16" viewBox="0 0 16 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg> </a><a class="goto" href="mailto:tatwdo@gmail.com"><svg class="icon" width="16" height="16" viewBox="0 0 1024 1024" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M512 0a512 512 0 0 0 0 1024 42.666667 42.666667 0 0 0 0-85.333333 426.666667 426.666667 0 1 1 426.666667-426.666667v85.333333a85.333333 85.333333 0 1 1-169.386667 0V298.666667a42.666667 42.666667 0 0 0-85.333333 0v22.4a257.28 257.28 0 1 0 21.333333 359.253333A170.666667 170.666667 0 0 0 1024 597.333333v-85.333333A512 512 0 0 0 512 0z m0 683.946667A171.946667 171.946667 0 1 1 683.946667 512 172.16 172.16 0 0 1 512 683.946667z"></path></svg> </a><a class="goto" href="https://jin.cloong.me/atom.xml" target="_blank"><svg class="icon" width="16" height="16" viewBox="0 0 1024 1024" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M320.374394 768q0 45.714286-32 77.714286t-77.714285 32-77.714286-32-32-77.714286 32-77.714286 77.714286-32 77.714285 32 32 77.714286z m292.571429 70.285714q1.142857 16-9.714286 27.428572-10.285714 12-26.857143 12H499.231537q-14.285714 0-24.571428-9.428572t-11.428572-23.714285q-12.571429-130.857143-105.428571-223.714286T134.08868 515.428571q-14.285714-1.142857-23.714286-11.428571T100.945823 479.428571V402.285714q0-16.571429 12-26.857143 9.714286-9.714286 24.571428-9.714285h2.857143q91.428571 7.428571 174.857143 46T463.231537 515.428571q65.142857 64.571429 103.714286 148t46 174.857143z m292.571428 1.142857q1.142857 15.428571-10.285714 26.857143-10.285714 11.428571-26.285714 11.428572h-81.714286q-14.857143 0-25.428571-10T750.660109 843.428571q-6.857143-122.857143-57.714286-233.428571t-132.285714-192-192-132.285714T135.231537 227.428571q-14.285714-0.571429-24.285714-11.142857T100.945823 191.428571V109.714286q0-16 11.428571-26.285715 10.285714-10.285714 25.142857-10.285714h1.714286q149.714286 7.428571 286.571429 68.571429T668.945823 309.714286q106.857143 106.285714 168 243.142857t68.571428 286.571428z"></path></svg></a></div></div><div id="post__mainer"><div class="sm-container"><div class="post--body"><div class="post__title"><span>2017-06-14 07:18:31</span><h1 class="h1 text-upper">利用 Hexo 框架在 GitHub 上搭建静态个人博客网站</h1></div><div class="post__content"><p>本文是我建立这个博客的一些笔记。目的有三：一防忘记，二供参考，三作开篇。</p><img src="/2017/06/14/build-hexo-blog/build-hexo-blog.jpg" class="" title="bulid-hexo-blog"><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>首先，先安装建立 Hexo 博客站点的依赖环境，即安装 Node.js、Git 以及在 GitHub 上建立站点仓库。</p><a id="more"></a><h3 id="安装Node-js环境"><a href="#安装Node-js环境" class="headerlink" title="安装Node.js环境"></a>安装Node.js环境</h3><p>参考文章：<a target="_blank" rel="noopener" href="http://www.w3cschool.cn/nodejs/nodejs-install-setup.html">W3Cschool 上 Node.js 教程之 Node.js 安装配置</a>。</p><blockquote><p>后面要使用其中的包管理工具<code>npm</code>进行 Hexo 安装。</p></blockquote><h3 id="安装Git工具包"><a href="#安装Git工具包" class="headerlink" title="安装Git工具包"></a>安装Git工具包</h3><p>参考文章：<a target="_blank" rel="noopener" href="http://www.w3cschool.cn/git/git-install-setup.html">W3Cschool 上 Git 教程之 Git 安装配置</a>。</p><h3 id="GitHub-上建立站点仓库"><a href="#GitHub-上建立站点仓库" class="headerlink" title="GitHub 上建立站点仓库"></a>GitHub 上建立站点仓库</h3><p>1、如果没有 GitHub 账户，先用邮箱在 <a target="_blank" rel="noopener" href="https://github.com/">Github</a> 免费注册一个账户；<br>2、创建一个仓库（repository），将其命名：<code>username.github.io</code>（username：账户名），比如：tatwd.github.io。</p><img src="/2017/06/14/build-hexo-blog/new-site-repository.png" class="" title="new-site-repository"><blockquote><p>后面的站点就是部署在这个仓库（即<code>站点仓库</code>）上，以后访问博客只需在 URL 上输入<code>https://username.github.io</code>即可。</p></blockquote><h2 id="本地建站"><a href="#本地建站" class="headerlink" title="本地建站"></a>本地建站</h2><p>准备工作完成后，便可以开始建立站点了。在 windows 环境下，启动命令行 cmd（Linux 环境启动终端），任意选择一个文件夹用来建立站点，然后输入命令：</p><h3 id="安装-Hexo"><a href="#安装-Hexo" class="headerlink" title="安装 Hexo"></a>安装 Hexo</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-cli -g<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="初始化-Hexo-站点"><a href="#初始化-Hexo-站点" class="headerlink" title="初始化 Hexo 站点"></a>初始化 Hexo 站点</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo init <span class="token punctuation">[</span>site-name<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>site-name： 站点文件夹名，可有可无。若加，则会在当前文件夹下新建一个以 site-name 命名的文件夹（即<code>站点文件夹</code>）。比如：输入<code>hexo init blog</code>后，当前文件夹会有一个叫<code>blog</code>文件夹。</p></blockquote><h3 id="安装依赖包"><a href="#安装依赖包" class="headerlink" title="安装依赖包"></a>安装依赖包</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> <span class="token punctuation">[</span>site-name<span class="token punctuation">]</span>   <span class="token comment">#进入站点文件夹，如果在上步新建了站点文件夹</span>
<span class="token function">npm</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="本地启动站点"><a href="#本地启动站点" class="headerlink" title="本地启动站点"></a>本地启动站点</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo generate  <span class="token comment">#可简写：hexo g，此命令会生成一个 public 文件夹</span>
hexo server    <span class="token comment">#可简写：hexo s</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>至此，本地站点建立完毕。在浏览器的 URL 中输入<code>http://localhost:4000</code>即可查看站点。</p><blockquote><p>按<code>Ctrl+C</code>键关闭，再次启动要先输入<code>hexo clean</code>清理缓存（即 public 文件夹)，之后如上。</p></blockquote><h2 id="更换主题"><a href="#更换主题" class="headerlink" title="更换主题"></a>更换主题</h2><h3 id="下载主题"><a href="#下载主题" class="headerlink" title="下载主题"></a>下载主题</h3><p>法一：在 Hexo 官方网站上<a target="_blank" rel="noopener" href="https://hexo.io/themes/">下载</a>，然后解压到<code>站点文件夹</code>下的<code>themes</code>文件夹下，注意命名。</p><p>法二：使用<code>git clone [主题的 GitHub 仓库]</code>命令，将其克隆到<code>themes</code>文件夹下即可，注意命名。注意，此时整个项目将包含两个 Git 仓库，需要将主题仓库改成子仓库 <code>submodule</code> 或删除主题仓库的 <code>.git</code> 文件夹。</p><h3 id="使用主题"><a href="#使用主题" class="headerlink" title="使用主题"></a>使用主题</h3><p>修改站点文件夹下的<code>_config.yml</code>（以下称之为<code>主站配置文件</code>）：把<code>theme: landscape</code>改为<code>theme: 主题文件夹名</code>。</p><blockquote><p>注意在<code>:</code>之后有一个空格。</p></blockquote><h3 id="主题设置"><a href="#主题设置" class="headerlink" title="主题设置"></a>主题设置</h3><p>不同主题参见该主题的使用文档即可。</p><h2 id="网上部署"><a href="#网上部署" class="headerlink" title="网上部署"></a>网上部署</h2><p>在 GitHub 上部署站点：</p><h3 id="修改主站配置文件"><a href="#修改主站配置文件" class="headerlink" title="修改主站配置文件"></a>修改主站配置文件</h3><p>修改处前：</p><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"># Deployment
# Docs: https:&#x2F;&#x2F;hexo.io&#x2F;docs&#x2F;deployment.html
deploy:
  type:<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>修改处后：</p><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"># Deployment
# Docs: https:&#x2F;&#x2F;hexo.io&#x2F;docs&#x2F;deployment.html
deploy:
  type: git
  repo: git@github.com:tatwd&#x2F;username.github.io.git
  branch: master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>注意在<code>:</code>之后有一个空格，<code>username</code>改为你的用户名，以下同。</p></blockquote><h3 id="开始部署"><a href="#开始部署" class="headerlink" title="开始部署"></a>开始部署</h3><p>如果在本地已启动了站点，则先关闭，然后输入命令：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-deployer-git  <span class="token comment">#很重要</span>
hexo clean
hexo g       <span class="token comment">#hexo generate的简写</span>
hexo deploy  <span class="token comment">#可简写：hexo d</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>至此，网上部署完毕，在浏览器的 URL 中输入<code>https://username.github.io</code>验证是否成功。</p><blockquote><p>后两条命令可合写为： <code>hexo g -d</code></p></blockquote><h2 id="简单管理"><a href="#简单管理" class="headerlink" title="简单管理"></a>简单管理</h2><h3 id="平常写作"><a href="#平常写作" class="headerlink" title="平常写作"></a>平常写作</h3><p>进入站点文件夹，输入命令：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo new <span class="token punctuation">[</span>layout<span class="token punctuation">]</span> <span class="token operator">&lt;</span>title<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>写完（Markdown 语言写作，参考文章：<a target="_blank" rel="noopener" href="http://www.appinn.com/markdown/">Markdown 语法说明(简体中文版)</a>）之后保存，然后输入命令：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo clean
hexo g -d<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>此时，所写文章便被部署到 GitHub 上去了。</p><blockquote><p>layout 的值：page\post\draft，默认为 post，详见 <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/writing.html">Hexo 文档之写作</a>。</p></blockquote><h3 id="管理站点文件"><a href="#管理站点文件" class="headerlink" title="管理站点文件"></a>管理站点文件</h3><p>如果本地站点文件丢失了或换了电脑怎么办？为解决这个问题，我们利用了 GitHub 的多分支来管理站点文件：</p><p>1、用<code>master</code>分支来管理发布的文件，即<code>public</code>文件夹下的文件；<br>2、用<code>hexo</code>分支来管理主站点文件，即除<code>public</code>下和<code>.gitignore</code>忽视的其他文件；<br>3、将<code>hexo</code>设为默认分支。</p><p>为此，我们要：</p><h4 id="建立远程仓库"><a href="#建立远程仓库" class="headerlink" title="建立远程仓库"></a>建立远程仓库</h4><p>先将远程仓库关联到本地。进入站点文件夹，输入命令：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> init
<span class="token function">git</span> remote <span class="token function">add</span> origin git@github.com:username/username.github.io.git
<span class="token function">git</span> pull<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>参考文章：<a target="_blank" rel="noopener" href="http://www.w3cschool.cn/git/git-remote-repo.html">W3Cschool 上 Git 教程之 Git 远程仓库</a>。</p></blockquote><h4 id="创建-hexo-分支"><a href="#创建-hexo-分支" class="headerlink" title="创建 hexo 分支"></a>创建 hexo 分支</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> checkout -b hexo  <span class="token comment">#创建并切换到 hexo 分支</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="将-hexo-设为默认分支"><a href="#将-hexo-设为默认分支" class="headerlink" title="将 hexo 设为默认分支"></a>将 hexo 设为默认分支</h4><p>在 GitHub 上的站点仓库上，点击<code>Settings</code>=&gt;<code>Branches</code>，将 Default branch 切换成 hexo，然后点击<code>Update</code>即可。</p><img src="/2017/06/14/build-hexo-blog/set-default-branch.png" class="" title="set-default-branch"><h4 id="将主站点文件-push-到-hexo-分支"><a href="#将主站点文件-push-到-hexo-分支" class="headerlink" title="将主站点文件 push 到 hexo 分支"></a>将主站点文件 push 到 hexo 分支</h4><p>切换到 hexo 分支（使用<code>git branch</code>命令查看当前所在分支）下，输入命令：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token function">git</span> commit -m <span class="token string">"提交记录"</span>
<span class="token function">git</span> push -u origin hexo  <span class="token comment">#初次push要加-u，此后可省</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>输命令之前，查看<code>站点文件夹</code>下的<code>.gitignore</code>文件，是否忽略 public 文件夹，若无，则添加<code>public/</code>。另外，此方法在<code>下载主题</code>使用<code>法二</code>时似乎有bug。</p></blockquote><h3 id="本地站点恢复"><a href="#本地站点恢复" class="headerlink" title="本地站点恢复"></a>本地站点恢复</h3><p>1、使用<code>git clone</code>命令克隆<code>站点仓库</code>（默认分支为hexo）：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> clone git@github.com:username/username.github.io.git<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>2、在本地新拷贝的<code>username.github.io</code>文件夹下依次执行命令：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-cli
<span class="token function">npm</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>注意，此时不需要执行<code>hexo init</code>这条命令。</p></blockquote><p>到此，便完成了对站点的一些简单管理。</p><h3 id="关于域名配置的问题"><a href="#关于域名配置的问题" class="headerlink" title="关于域名配置的问题"></a>关于域名配置的问题</h3><p>在 GitHub 上，站点仓库是支持域名配置的。具体见参考链接，这里需要注意的是，之前看到有人采用的是在域名提供商的后台通过添加 A 记录的方式进行配置的，这在 GitHub 上会被提示警告，建议改成通过添加 CNAME 记录进行配置。</p><blockquote><p>参考：<a target="_blank" rel="noopener" href="https://docs.github.com/cn/free-pro-team@latest/github/working-with-github-pages/configuring-a-custom-domain-for-your-github-pages-site">配置 GitHub Pages 站点的自定义域</a></p></blockquote></div><script>document.querySelector(".post__content").addEventListener("click",function(e){var t=e.target,n=t.id;"H2"===t.nodeName&&n&&(location.hash="#"+n)})</script></div><hr style="border:1px dashed #eee"><div class="post--comment"></div><script type="x/template" id="comment-tmpl"><form>
      <p class="tip">加 * 为必填项，其中您输入的邮箱将不会公开！</p>
      <p>
        <label class="inline-block mb1">评论*</label>
        <textarea name="html_text" rows="4" class="block w100"></textarea>
      </p>
      <div class="clearfix">
        <p class="float--left w50 border-box" style="padding-right:5px;">
          <label class="inline-block mb1">昵称*</label>
          <input type="text" name="owner_name" class="block w100">
        </p>
        <p class="float--left w50 border-box" style="padding-left:5px;">
          <label class="inline-block mb1">邮箱*</label>
          <input type="email" name="owner_email" class="block w100">
        </p>
      </div>
      <p>
        <label class="inline-block mb1">网址</label>
        <input type="text" name="owner_website" class="block w100">
      </p>
      <p class="text-right"><button id="submitCommentBtn">发表评论</button></p>
    </form>
    <div class="comments">
      <!-- render comments here -->
    </div></script><script src="/js/talking.dev.js"></script><script>window.hexoThemeConfig={comment_sys_api:"https://www.sondge.club/tatwd/api/comments"}</script><script src="/js/post.js"></script></div></div></div></div></body></html>