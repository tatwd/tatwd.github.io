"use strict";!function(){var n={},r=new XMLHttpRequest,e='\n<form>\n  用户名: <br><input name="owner.name" required/><br>\n  邮箱: <br><input name="owner.email" required/><br>\n  网址: <br><input name="owner.url" required/><br>\n  评论内容：<br><textarea name="htmlText" required></textarea><br>\n  <button id="submitCommentBtn">发表</button>\n</form>\n<div id="comments"></div>\n';function t(t){for(var e in r.onreadystatechange=function(e){var n;4===r.readyState&&200===r.status&&(n=JSON.parse(r.responseText),t.success&&t.success(n))},r.open(t.method,t.url),t.headers)t.headers.hasOwnProperty(e)&&r.setRequestHeader(e,t.headers[e]);r.send(t.data||null)}function a(){n.el.innerHTML="".concat(n.template||e),n.el.addEventListener("click",function(e){"submitCommentBtn"===e.target.id&&(e.preventDefault(),(e=n.submit())&&(e=e,t({method:"POST",url:n.api,data:JSON.stringify(e),headers:{"Content-Type":"application/json"},success:function(e){n.created(e)}})))}),n.inited(n.el),t({method:"GET",url:n.api+"?post_url="+location.pathname,success:function(e){n.render&&n.render(e)}})}window.Talking=window.Talking||function(e){n=e(),a()}}();